function initNavigation(){const e=document.querySelector(".header");let t=0;window.addEventListener("scroll",function(){const n=window.pageYOffset||document.documentElement.scrollTop;n>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),t=n});const n=document.querySelectorAll(".nav-link"),o=document.querySelectorAll("section[id]");window.addEventListener("scroll",function(){let e="";o.forEach(t=>{const n=t.offsetTop;t.clientHeight;window.pageYOffset>=n-200&&(e=t.getAttribute("id"))}),n.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===`#${e}`&&t.classList.add("active")})})}function initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href").substring(1),n=document.getElementById(t);if(n){const e=document.querySelector(".header").offsetHeight,t=n.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"});const o=document.querySelector(".nav-menu"),i=document.querySelector(".nav-toggle");o.classList.remove("active"),i.classList.remove("active")}})})}function initMobileMenu(){const e=document.querySelector(".nav-toggle"),t=document.querySelector(".nav-menu");if(e&&t){const n=()=>{const n=t.classList.contains("active");e.setAttribute("aria-expanded",n?"true":"false")};e.addEventListener("click",function(){t.classList.toggle("active"),e.classList.toggle("active"),n()});document.querySelectorAll(".nav-link").forEach(o=>{o.addEventListener("click",function(){t.classList.remove("active"),e.classList.remove("active"),n()})}),document.addEventListener("click",function(o){!(t.contains(o.target)||e.contains(o.target))&&t.classList.contains("active")&&(t.classList.remove("active"),e.classList.remove("active"),n())}),n()}}function initPhoneTracking(){document.querySelectorAll('a[href^="tel:"]').forEach(e=>{e.addEventListener("click",function(e){trackPhoneClick(this.getAttribute("href").replace("tel:",""))})})}function initCTATracking(){document.querySelectorAll(".cta-button, .cta-button-nav, .footer-cta").forEach(e=>{e.addEventListener("click",function(e){trackCTAClick(this.textContent.trim(),this.closest("section")?.className||"navigation")})})}function isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function trackConversion(e,t={}){"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&"5500"!==window.location.port?"undefined"!=typeof gtag&&gtag("event",e,{event_category:t.category||"engagement",event_label:t.label||"vacatad_website",value:t.value||void 0,...t}):console.log(`[DEV] Conversion tracked: ${e}`,t)}function trackPhoneClick(e){trackConversion("phone_call",{category:"leads",label:"phone_click",phone_number:e})}function trackFormSubmit(e){trackConversion("form_submit",{category:"leads",label:e,form_type:e})}function trackCTAClick(e,t){trackConversion("cta_click",{category:"engagement",label:e,location:t})}function trackBlogRead(e,t){trackConversion("blog_read",{category:"content",label:e,read_time:t})}function trackCalculatorUse(){trackConversion("calculator_use",{category:"leads",label:"rates_calculator"})}function showNotification(e,t="info"){const n=document.querySelector(".notification");n&&n.remove();const o=document.createElement("div");o.className=`notification notification-${t}`,o.textContent=e,o.style.cssText="\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        padding: 15px 20px;\n        border-radius: 8px;\n        color: white;\n        font-weight: 500;\n        z-index: 10000;\n        transform: translateX(400px);\n        transition: transform 0.3s ease;\n        max-width: 350px;\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n        font-size: 0.9rem;\n        line-height: 1.4;\n    ";const i={success:"#28a745",error:"#dc3545",info:"#6DCED1",warning:"#ffc107"};o.style.backgroundColor=i[t]||i.info,document.body.appendChild(o),setTimeout(()=>{o.style.transform="translateX(0)"},100),setTimeout(()=>{o.style.transform="translateX(400px)",setTimeout(()=>{o.remove()},300)},6e3)}function initScrollEffects(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const e=new IntersectionObserver(function(t){t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate-in"),e.unobserve(t.target))})},{threshold:[0,.1,.2],rootMargin:"0px 0px 150px 0px"});document.querySelectorAll(".feature-card, .process-step, .result-item, .tech-item, .contact-info, .contact-form, .blog-card, .faq-item, .client-logo, .dashboard-feature, .benefit-item").forEach((t,n)=>{t.classList.add("fade-up"),e.observe(t)});document.querySelectorAll(".why-text, .section-header").forEach((t,n)=>{t.classList.add("fade-left"),e.observe(t)});document.querySelectorAll(".why-image").forEach((t,n)=>{t.classList.add("fade-right"),e.observe(t)});const t=document.querySelector(".why-image picture img");if(t){const e=new IntersectionObserver(function(n){n.forEach(n=>{n.isIntersecting&&(t.style.opacity="1",e.unobserve(n.target))})},{threshold:.1,rootMargin:"0px 0px 100px 0px"});e.observe(t)}const n=document.querySelector(".features-grid");if(n){const e=new IntersectionObserver(function(t){t.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)",e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px 100px 0px"});e.observe(n)}let o=!1;const i=document.querySelectorAll(".hero, .blog-hero");function r(){const e=window.pageYOffset;i.forEach(t=>{if(e<1.5*window.innerHeight){const n=.3*e;t.style.transform=`translateY(${n}px)`}}),o=!1}i.length>0&&window.addEventListener("scroll",function(){o||(window.requestAnimationFrame(r),o=!0)},{passive:!0});const c=document.querySelectorAll(".stat-number, .result-value"),a=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&!e.target.classList.contains("counted")&&(e.target.classList.add("counted"),animateCounter(e.target),a.unobserve(e.target))})},{threshold:.3,rootMargin:"0px 0px 50px 0px"});c.forEach(e=>a.observe(e)),initBackToTop(),initScrollDownIndicator()}function initBackToTop(){if(!document.querySelector(".back-to-top")){const e=document.createElement("div");e.className="back-to-top",e.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 15l-6-6-6 6"/></svg>',e.setAttribute("aria-label","Back to top"),e.setAttribute("role","button"),document.body.appendChild(e),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",throttle(()=>{window.pageYOffset>500?e.classList.add("visible"):e.classList.remove("visible")},100))}}function initScrollDownIndicator(){if(("/"===window.location.pathname||"/index.html"===window.location.pathname||window.location.pathname.endsWith("/"))&&!document.querySelector(".scroll-down-indicator")){const e=document.createElement("div");e.className="scroll-down-indicator",e.innerHTML='<div class="mouse"><div class="wheel"></div></div><div class="arrow"></div>',e.setAttribute("aria-hidden","true");const t=document.querySelector(".hero");t?t.appendChild(e):document.body.appendChild(e),window.addEventListener("scroll",throttle(()=>{window.pageYOffset>100?(e.style.opacity="0",e.style.pointerEvents="none"):(e.style.opacity="0.7",e.style.pointerEvents="auto")},100))}}function animateCounter(e){const t=parseInt(e.textContent.replace(/\D/g,"")),n=t/125;let o=0;const i=setInterval(()=>{o+=n,o>=t?(e.textContent=e.textContent.replace(/\d+/,t),clearInterval(i)):e.textContent=e.textContent.replace(/\d+/,Math.floor(o))},16)}function initLazyLoading(){const e=document.querySelectorAll('img[loading="lazy"]');if("IntersectionObserver"in window){const t=new IntersectionObserver(function(e){e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.src=n.dataset.src||n.src,n.classList.remove("lazy"),t.unobserve(n)}})});e.forEach(e=>t.observe(e))}}function initFAQs(){const e=document.querySelectorAll(".faq-item"),t=document.getElementById("faq-search-input"),n=document.querySelectorAll(".faq-nav-link"),o=document.querySelectorAll(".faq-category");if(e.forEach(t=>{const n=t.querySelector(".faq-question"),o=t.querySelector(".faq-answer");if(n&&o){const i=n.id||`faq-q-${Math.random().toString(36).slice(2,8)}`,r=o.id||`faq-a-${Math.random().toString(36).slice(2,8)}`;n.id=i,o.id=r,n.setAttribute("aria-controls",r),n.setAttribute("aria-expanded","false"),o.setAttribute("role","region"),o.setAttribute("aria-labelledby",i),n.addEventListener("click",()=>{const i=t.classList.contains("active");e.forEach(e=>{if(e!==t){e.classList.remove("active");const t=e.querySelector(".faq-answer"),n=e.querySelector(".faq-question");t&&(t.style.maxHeight=null),n&&n.setAttribute("aria-expanded","false")}}),i?(t.classList.remove("active"),o.style.maxHeight=null,n.setAttribute("aria-expanded","false")):(t.classList.add("active"),o.style.maxHeight=o.scrollHeight+"px",n.setAttribute("aria-expanded","true"))})}}),t&&t.addEventListener("input",t=>{const n=t.target.value.toLowerCase().trim();e.forEach(e=>{const t=e.querySelector(".faq-question").textContent.toLowerCase(),o=e.querySelector(".faq-answer").textContent.toLowerCase();if(t.includes(n)||o.includes(n))if(e.style.display="block",n.length>2){e.classList.add("active");const t=e.querySelector(".faq-answer"),n=e.querySelector(".faq-question");t.style.maxHeight=t.scrollHeight+"px",n.setAttribute("aria-expanded","true")}else{e.classList.remove("active");const t=e.querySelector(".faq-answer"),n=e.querySelector(".faq-question");t.style.maxHeight=null,n.setAttribute("aria-expanded","false")}else e.style.display="none"}),o.forEach(e=>{e.querySelectorAll('.faq-item[style="display: block;"]');const t=Array.from(e.querySelectorAll(".faq-item")).some(e=>"none"!==e.style.display);e.style.display=t?"block":"none"})}),n.length>0&&o.length>0){const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){n.forEach(e=>e.classList.remove("active"));const t=e.target.getAttribute("id"),o=document.querySelector(`.faq-nav-link[href="#${t}"]`);o&&o.classList.add("active")}})},{root:null,rootMargin:"-20% 0px -70% 0px",threshold:0});o.forEach(t=>e.observe(t)),n.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href"),o=document.querySelector(n);if(o){const e=100,t=o.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:t,behavior:"smooth"})}})})}}function throttle(e,t){let n;return function(){const o=arguments,i=this;n||(e.apply(i,o),n=!0,setTimeout(()=>n=!1,t))}}function debounce(e,t){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...o)},t)}}function initScrollProgress(){const e=document.createElement("div");e.className="scroll-progress",document.body.appendChild(e),window.addEventListener("scroll",throttle(function(){const t=document.documentElement.scrollHeight-document.documentElement.clientHeight,n=window.pageYOffset/t*100;e.style.width=n+"%"},16))}document.addEventListener("DOMContentLoaded",function(){initNavigation(),initSmoothScrolling(),initScrollEffects(),initMobileMenu(),initPhoneTracking(),initCTATracking(),initFAQs(),initScrollProgress()}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initLazyLoading):initLazyLoading(),window.VacatAdWebsite={showNotification:showNotification,initNavigation:initNavigation,initSmoothScrolling:initSmoothScrolling,initContactForm:initContactForm,initScrollEffects:initScrollEffects,initMobileMenu:initMobileMenu,trackConversion:trackConversion};